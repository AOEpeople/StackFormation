

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Functions &mdash; StackFormation dev-master documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="StackFormation dev-master documentation" href="../index.html"/>
        <link rel="next" title="File paths" href="../FilePaths/index.html"/>
        <link rel="prev" title="Stack policies" href="../StackPolicies/index.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> StackFormation
          

          
          </a>

          
            
            
              <div class="version">
                dev-master
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Getting started Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../GettingStarted/index.html">Getting Started</a></li>
</ul>
<p class="caption"><span class="caption-text">StackFormation Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../Blueprints/index.html">Blueprints</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Templates/index.html">Templates</a></li>
<li class="toctree-l1"><a class="reference internal" href="../StackReferences/index.html">Stack references</a></li>
<li class="toctree-l1"><a class="reference internal" href="../UserData/index.html">User data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Stack/index.html">Stack</a></li>
<li class="toctree-l1"><a class="reference internal" href="../StackPolicies/index.html">Stack policies</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Functions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#fn-filecontent">Fn::FileContent</a></li>
<li class="toctree-l2"><a class="reference internal" href="#fn-filecontenttrimlines">Fn::FileContentTrimLines</a></li>
<li class="toctree-l2"><a class="reference internal" href="#fn-filecontentminify">Fn::FileContentMinify</a></li>
<li class="toctree-l2"><a class="reference internal" href="#fn-filecontentunpretty">Fn::FileContentUnpretty</a></li>
<li class="toctree-l2"><a class="reference internal" href="#fn-split">Fn::Split</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../FilePaths/index.html">File paths</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ShellCommands/index.html">Shell commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="../AwsSdk/index.html">AWS Sdk</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Misc/index.html">Misc</a></li>
</ul>
<p class="caption"><span class="caption-text">User Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Contributing/index.html">Contributing</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">StackFormation</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
    <li>Functions</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/Functions/index.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="functions">
<h1>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h1>
<div class="section" id="fn-filecontent">
<h2>Fn::FileContent<a class="headerlink" href="#fn-filecontent" title="Permalink to this headline">¶</a></h2>
<p>Before uploading CloudFormation template to the API there&#8217;s some pre-processing going on: I&#8217;ve introduced a new function &#8220;FileContent&#8221; that accepts a path to a file. This file will be read, converted into JSON (using <code class="docutils literal"><span class="pre">Fn::Join</span></code>). The path is relative to the path of the current CloudFormation template file.</p>
<p>Usage Example:</p>
<div class="highlight-json"><div class="highlight"><pre><span></span>[...]
&quot;UserData&quot;: {&quot;Fn::Base64&quot;: {&quot;Fn::FileContent&quot;:&quot;../scripts/setup.sh&quot;}},
[...]
</pre></div>
</div>
</div>
<div class="section" id="fn-filecontenttrimlines">
<h2>Fn::FileContentTrimLines<a class="headerlink" href="#fn-filecontenttrimlines" title="Permalink to this headline">¶</a></h2>
<p>These function are similar to <code class="docutils literal"><span class="pre">Fn::FileContent</span></code> but additional it trim whitespace. This comes in handy when deploying Lambda function where the content can&#8217;t be larger than 2048kb if you want to directly embed the source code via CloudFormation (instead of deploying a zip file).</p>
</div>
<div class="section" id="fn-filecontentminify">
<h2>Fn::FileContentMinify<a class="headerlink" href="#fn-filecontentminify" title="Permalink to this headline">¶</a></h2>
<p>These function are similar to <code class="docutils literal"><span class="pre">Fn::FileContent</span></code> but additional it minify the code. This comes in handy when deploying Lambda function where the content can&#8217;t be larger than 2048kb if you want to directly embed the source code via CloudFormation (instead of deploying a zip file).</p>
</div>
<div class="section" id="fn-filecontentunpretty">
<h2>Fn::FileContentUnpretty<a class="headerlink" href="#fn-filecontentunpretty" title="Permalink to this headline">¶</a></h2>
<p>This function is the same as <code class="docutils literal"><span class="pre">Fn::FileContent</span></code> expect it will return the resulting JSON without formatting it, which will reduce the file size significantly due to the missing whitespace in the JSON structure (not inside the file content!) This is useful if you&#8217;re seeing the &#8221;...at &#8216;templateBody&#8217; failed to satisfy constraint: Member must have length less than or equal to 51200&#8221; error message.</p>
</div>
<div class="section" id="fn-split">
<h2>Fn::Split<a class="headerlink" href="#fn-split" title="Permalink to this headline">¶</a></h2>
<p>Sometimes you have a dynamic number of array items. <code class="docutils literal"><span class="pre">Fn::Split</span></code> allows you to configure them as a single string and transforms them into an array:</p>
<div class="highlight-json"><div class="highlight"><pre><span></span>&quot;Aliases&quot;: { &quot;Fn::Split&quot;: [&quot;,&quot;, &quot;www.example.com,cdn.example.com&quot;]}
</pre></div>
</div>
<p>results in:</p>
<div class="highlight-json"><div class="highlight"><pre><span></span>&quot;Aliases&quot;: [&quot;www.example.com&quot;, &quot;cdn.example.com&quot;]
</pre></div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../FilePaths/index.html" class="btn btn-neutral float-right" title="File paths" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../StackPolicies/index.html" class="btn btn-neutral" title="Stack policies" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, AOE GmbH.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'dev-master',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>